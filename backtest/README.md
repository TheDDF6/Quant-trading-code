# RSI背离策略回测系统

基于技术分析的RSI背离策略回测和验证系统，支持动态风险管理和走向前分析。

## 🎯 系统特点

- **理想化回测引擎** - 支持动态风险管理和杠杆交易
- **走向前分析** - 避免过拟合，验证策略时间稳定性
- **参数敏感性测试** - 验证策略对参数变化的稳健性
- **现实收益预估** - 考虑交易成本的实际收益预估
- **完整的实施指导** - 从模拟交易到实盘部署的完整计划

## 📁 目录结构

```
backtest/
├── main.py                           # 🚀 主入口文件 (从这里开始)
├── README.md                         # 📖 本文件
├── core/                            # 🔧 核心模块
│   ├── backtest.py                  # 主回测引擎
│   └── time_series_validation.py   # 走向前分析引擎
├── strategies/                      # 📈 交易策略
│   ├── rsi_divergence.py           # RSI背离策略
│   ├── ma_cross.py                 # 移动平均策略  
│   └── rsi_trend_divergence.py     # RSI趋势背离策略
├── tests/                          # 🧪 测试模块
│   ├── test_monthly_walk_forward.py # 月度走向前测试
│   ├── realistic_parameter_test.py  # 现实参数测试
│   └── test_parameter_sensitivity.py # 参数敏感性测试
├── analysis/                       # 📊 分析工具
│   ├── realistic_projection.py     # 现实收益预估
│   └── implementation_plan.py      # 实施计划
├── utils/                         # 🛠️ 工具模块
│   └── strategy_validator.py      # 策略验证工具
└── archive/                       # 📦 归档文件
```

## 🚀 快速开始

### 1. 启动主程序
```bash
cd D:\VSC\backtest
python main.py
```

### 2. 推荐使用流程
1. **走向前分析** (选项2) - 了解策略真实表现
2. **现实收益预估** (选项4) - 获得保守预期
3. **查看实施计划** (选项5) - 了解部署指导

## 📊 测试结果总结

基于最近的走向前分析结果：

### ✅ 积极信号
- **3轮测试全部盈利** - 时间一致性良好
- **平均月收益39.7%** - 调整后保守预估15%
- **胜率稳定** - 46.4%-52.3%
- **风险控制** - 平均回撤9.2%

### ⚠️ 需要注意
- **效果递减趋势** - 从50.6%降至24.4%
- **收益率仍偏高** - 需要实际验证
- **样本有限** - 只有3个月测试数据

### 🎯 保守预估
- **月收益**: 15% (调整交易成本后)
- **年化收益**: 435%
- **风险收益比**: 1.6
- **建议**: 值得小规模验证，但需谨慎

## ⚠️ 重要声明

1. **历史表现不代表未来结果** - 所有回测都基于历史数据
2. **实际交易存在额外成本** - 手续费、滑点、心理因素等
3. **策略可能失效** - 市场环境变化可能影响策略有效性
4. **风险自负** - 任何投资决策都需要承担相应风险

## 🛡️ 风险控制建议

1. **从模拟交易开始** - 验证策略在实时环境中的表现
2. **小资金测试** - 不要投入承受不起的损失
3. **严格执行止损** - 不要心存侥幸
4. **持续监控** - 密切观察策略表现变化
5. **准备退出** - 随时准备停止策略的心理准备

## 📞 系统使用

运行 `python main.py` 后选择相应功能：

- **选项1**: 基础策略回测
- **选项2**: 走向前分析 (推荐首先运行)
- **选项4**: 现实收益预估 (获得保守预期)
- **选项5**: 实施计划 (部署指导)

## 📝 更新日志

- **v1.0** - 初始版本，支持RSI背离策略回测
- **v1.1** - 添加走向前分析，避免过拟合
- **v1.2** - 添加现实收益预估和实施计划
- **v1.3** - 重构代码结构，添加主入口程序

---

**记住**: 量化交易需要持续学习和调整，没有永远有效的策略！